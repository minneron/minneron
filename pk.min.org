* package view (module outlines)                                :pk:min:
:PROPERTIES:
:TS: <2013-01-11 09:40AM>
:ID: 7vwjky90kzf0
:END:
*** TODO MODULE =buf= -> rename to docs or texts
:PROPERTIES:
:TS: <2013-01-04 04:31AM>
:ID: u6chgny0azf0
:END:

#+begin_src pascal :tangle ".gen/buf.pas" :padline yes :noweb tangle
  {$mode delphi}{$i xpc.inc}{$H+}
  unit buf;
  interface uses xpc, rings, tiles;
    <<type:token>>
    <<type:anchor>>
    <<type:TBuffer>>
    <<type:span>>
  implementation
    <<@imp:TBuffer>>
  end.
#+end_src

*** MODULE =mn= : minneron object model                         :ed:ifc:
:PROPERTIES:
:TS: <2013-01-11 05:09AM>
:ID: fr5fryb1jzf0
:END:
#+begin_src pascal :tangle ".gen/mn.pas" :noweb tangle
  {$mode delphi}{$i xpc.inc}{$H+}
  unit mn;
  interface uses xpc, fs, stri, num, cw, buf, ui, kvm, kbd, cli, tiles, vorunati;
    <<type:TEditor>>
    <<type:span>>
  implementation
    <<@imp:ed>>
    <<@imp:span>>
  end.
#+end_src

*** PROGRAM =min=
:PROPERTIES:
:TS: <2013-01-12 06:30AM>
:ID: 34nd9ah0lzf0
:END:
#+begin_src pascal :tangle ".gen/min.pas" :noweb tangle
  { minneron
  ----------------------------------------------------------------
  Copyright (c) 2012 Michal J Wallace. All rights reserved.
  ---------------------------------------------------------------}
  {$mode delphi}{$i xpc.inc}{$H+}
  program min;
  uses xpc, mn, cw, cx, kvm;
  
  var ed : mn.TEditor;
  begin
    ed := TEditor.Create;
    kvm.ClrScr;
    if ParamCount = 0 then
      writeln( 'usage : min <filename> ')
    else if ed.Load( ParamStr( 1 )) then
      begin
        ed.Loop;
        ed.Destroy;
        cw.cwriteln( '|w|!k' );
        kvm.ClrScr;
      end
    else writeln( 'unable to load file: ', paramstr( 1 ))
  end.
#+end_src
